<!DOCTYPE html>
<html>
<head>
	<title>main.js info</title>
	<script>
		function placeElements() {
			var cent = document.getElementById("centered");
			var bar = document.getElementById("bar");
			var windowHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
			var divHeight = cent.clientHeight;
			var barHeight = bar.clientHeight;
			cent.style.paddingTop = ((windowHeight / 8) + barHeight) + "px";
		}
	</script>
	<style>
		body {
				font-family: "Trebuchet MS", "Arial";
				text-align: center;
				margin: 0% auto;
				overflow-x: hidden;
			}

			#background { /*Background image - the last update panel*/
				min-height: 100%;
				min-width: 100%;
				left: 0;
				top: 0%;
				position: fixed;
				opacity: 0.1;
				z-index: -1;
			}

			#centered {
				margin: 0% auto;
			}

			#centered p {
				padding-right: 12%;
				padding-left: 12%;
				text-align: left;
			}

			#bar {
				width: 100%;
				top: 0%;
				margin: 0%;
				position: absolute;
				background-color: black;
				padding: 0.5%;
			}

			#bar a:link, #bar a:visited {
				color: white;
				padding-left: 3.5%;
			}

			#centered a:link, #centered a:visited {
				color: black;
			}

			#banner {
				left: 1%;
				color: white;
				position: absolute;
			}

			.rot {
				-ms-transform: skewX(-15deg);
				-webkit-transform: skewX(-15deg);
				transform: skewX(-15deg);

				background-color: black;
				color: white;
				padding: 0.5%;
				padding-right: 3%;
				padding-left: 3%;
				display: inline-block;
			}

			.backrot {
				-ms-transform: skewX(15deg); /*Internet Explorer*/
				-webkit-transform: skewX(15deg); /*Safari*/
				transform: skewX(15deg); /*As it should be*/
			}

			::selection { /*most browsers*/
				background-color: #4d905a;
			}
			::-moz-selection { /*mozilla*/
				background-color: #4d905a;
			}
			/*other browsers*/
			::-o-selection {
				background-color: #4d905a;
			}
			::-ms-selection {
				background-color: #4d905a;
			}
			::-webkit-selection { /*webkit*/
				background-color: #4d905a;
			}

			#chart {
				width: 75%;
				border: solid black;
				border-radius: 1%;
			}

			@media(max-width: 1100px) {
				#bar #clear {
					display: block;
				}

				#bar a {
					padding-left: 2%;
				}

				#banner {
					position: relative;
				}
			}

			@media(max-width: 600px) {
				#bar #clear2 {
					display: block;
				}

				#bar a, #banner {
					padding-left: 0;
				}
			}

			@media (orientation: portrait) {
				body {
					overflow-x: show;
					overflow-y: hidden;
				}
			}

			.bottom {
				font-size: 0.75em;
				text-align: center;
			}
	</style>
</head>
<img id="background" src="/res/img/mails.jpg">
<body>
	<div id="bar">
		<span id="banner"><b>Prague Race Update Notifier</b></span>
		<span id="clear">
		<a href="/">Home page</a>
		<span id="clear2">
		<a href="http://praguerace.com">Prague Race's website</a>
		<span id="clear">
		<a href="/doc/general.html">Docs main page</a>
	</div>

	<div id="centered">
		<br><br><br><br><br><br>
		<div class="rot">
			<h2 class="backrot">What is main.js's purpose?</h2>
		</div>
		<p>The main.js file handles most of PRUN. It serves pages and files over HTTP to users, handles incoming emails with IMAP and SMTP, and communicates with the MySQL database.</p>
		<br><br><br>
		<div class="rot">
			<h2 class="backrot">Incoming mail-handling logic flowchart</h2>
		</div>
		<br><br><br>
		<img src="/doc/mailChart.png" id="chart">
		<br>
	</div>
</body>
</html>